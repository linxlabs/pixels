const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Diy11PoG.js","./DRHfNugd.js","./entry.CGRFkGN0.css"])))=>i.map(i=>d[i]);
import{J as x,ao as ce,i as c,r as re,ar as N,as as ue,L as F,o as Ue,al as de,at as He,N as A,a9 as Fe,G as Ge,H as Ke,e as We,au as E,av as G,a7 as P,h as fe,aw as Je,ax as ve,_ as ge,a as ee,m as D,t as me,v as Xe,z as g,A as b,B as U,y as pe,ag as he,ah as ye,a4 as Ze,ak as te,ay as qe,D as Ye,ac as Qe,x as ne,az as et}from"./DRHfNugd.js";import{u as be,m as j,r as K,e as tt,j as nt,V as st,d as ot,a as Se,E as at,x as it,w as lt,B as ct,F as rt,y as ut,A as dt}from"./CDU9Hp-T.js";import{u as Ce}from"./C7AVOjxg.js";import{c as ft,_ as vt,a as gt}from"./Cg4u3AWv.js";const H=Symbol.for("vuetify:layout"),_e=Symbol.for("vuetify:layout-item"),se=1e3,mt=x({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),pt=x({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function ht(e){const t=ce(H);if(!t)throw new Error("[Vuetify] Could not find injected layout");const n=e.id??`layout-item-${Fe()}`,o=ue("useLayoutItem");de(_e,{id:n});const s=F(!1);Ge(()=>s.value=!0),Ke(()=>s.value=!1);const{layoutItemStyles:a,layoutItemScrimStyles:i}=t.register(o,{...e,active:c(()=>s.value?!1:e.active.value),id:n});return We(()=>t.unregister(n)),{layoutItemStyles:a,layoutRect:t.layoutRect,layoutItemScrimStyles:i}}const yt=(e,t,n,o)=>{let s={top:0,left:0,right:0,bottom:0};const a=[{id:"",layer:{...s}}];for(const i of e){const r=t.get(i),d=n.get(i),m=o.get(i);if(!r||!d||!m)continue;const S={...s,[r.value]:parseInt(s[r.value],10)+(m.value?parseInt(d.value,10):0)};a.push({id:i,layer:S}),s=S}return a};function bt(e){const t=ce(H,null),n=c(()=>t?t.rootZIndex.value-100:se),o=re([]),s=N(new Map),a=N(new Map),i=N(new Map),r=N(new Map),d=N(new Map),{resizeRef:m,contentRect:S}=be(),R=c(()=>{const u=new Map,p=e.overlaps??[];for(const l of p.filter(v=>v.includes(":"))){const[v,f]=l.split(":");if(!o.value.includes(v)||!o.value.includes(f))continue;const h=s.get(v),_=s.get(f),k=a.get(v),V=a.get(f);!h||!_||!k||!V||(u.set(f,{position:h.value,amount:parseInt(k.value,10)}),u.set(v,{position:_.value,amount:-parseInt(V.value,10)}))}return u}),C=c(()=>{const u=[...new Set([...i.values()].map(l=>l.value))].sort((l,v)=>l-v),p=[];for(const l of u){const v=o.value.filter(f=>{var h;return((h=i.get(f))==null?void 0:h.value)===l});p.push(...v)}return yt(p,s,a,r)}),w=c(()=>!Array.from(d.values()).some(u=>u.value)),$=c(()=>C.value[C.value.length-1].layer),je=c(()=>({"--v-layout-left":A($.value.left),"--v-layout-right":A($.value.right),"--v-layout-top":A($.value.top),"--v-layout-bottom":A($.value.bottom),...w.value?void 0:{transition:"none"}})),I=c(()=>C.value.slice(1).map((u,p)=>{let{id:l}=u;const{layer:v}=C.value[p],f=a.get(l),h=s.get(l);return{id:l,...v,size:Number(f.value),position:h.value}})),X=u=>I.value.find(p=>p.id===u),B=ue("createLayout"),Z=F(!1);Ue(()=>{Z.value=!0}),de(H,{register:(u,p)=>{let{id:l,order:v,position:f,layoutSize:h,elementSize:_,active:k,disableTransitions:V,absolute:Oe}=p;i.set(l,v),s.set(l,f),a.set(l,h),r.set(l,k),V&&d.set(l,V);const q=He(_e,B==null?void 0:B.vnode).indexOf(u);q>-1?o.value.splice(q,0,l):o.value.push(l);const Y=c(()=>I.value.findIndex(L=>L.id===l)),O=c(()=>n.value+C.value.length*2-Y.value*2),Te=c(()=>{const L=f.value==="left"||f.value==="right",T=f.value==="right",Me=f.value==="bottom",z=_.value??h.value,De=z===0?"%":"px",Q={[f.value]:0,zIndex:O.value,transform:`translate${L?"X":"Y"}(${(k.value?0:-(z===0?100:z))*(T||Me?-1:1)}${De})`,position:Oe.value||n.value!==se?"absolute":"fixed",...w.value?void 0:{transition:"none"}};if(!Z.value)return Q;const y=I.value[Y.value];if(!y)throw new Error(`[Vuetify] Could not find layout item "${l}"`);const M=R.value.get(l);return M&&(y[M.position]+=M.amount),{...Q,height:L?`calc(100% - ${y.top}px - ${y.bottom}px)`:_.value?`${_.value}px`:void 0,left:T?void 0:`${y.left}px`,right:T?`${y.right}px`:void 0,top:f.value!=="bottom"?`${y.top}px`:void 0,bottom:f.value!=="top"?`${y.bottom}px`:void 0,width:L?_.value?`${_.value}px`:void 0:`calc(100% - ${y.left}px - ${y.right}px)`}}),ze=c(()=>({zIndex:O.value-1}));return{layoutItemStyles:Te,layoutItemScrimStyles:ze,zIndex:O}},unregister:u=>{i.delete(u),s.delete(u),a.delete(u),r.delete(u),d.delete(u),o.value=o.value.filter(p=>p!==u)},mainRect:$,mainStyles:je,getLayoutItem:X,items:I,layoutRect:S,rootZIndex:n});const Re=c(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),Be=c(()=>({zIndex:t?n.value:void 0,position:t?"relative":void 0,overflow:t?"hidden":void 0}));return{layoutClasses:Re,layoutStyles:Be,getLayoutItem:X,items:I,layoutRect:S,layoutRef:m}}const we=E.reduce((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e),{}),xe=E.reduce((e,t)=>{const n="offset"+G(t);return e[n]={type:[String,Number],default:null},e},{}),$e=E.reduce((e,t)=>{const n="order"+G(t);return e[n]={type:[String,Number],default:null},e},{}),oe={col:Object.keys(we),offset:Object.keys(xe),order:Object.keys($e)};function St(e,t,n){let o=e;if(!(n==null||n===!1)){if(t){const s=t.replace(e,"");o+=`-${s}`}return e==="col"&&(o="v-"+o),e==="col"&&(n===""||n===!0)||(o+=`-${n}`),o.toLowerCase()}}const Ct=["auto","start","end","center","baseline","stretch"],_t=x({cols:{type:[Boolean,String,Number],default:!1},...we,offset:{type:[String,Number],default:null},...xe,order:{type:[String,Number],default:null},...$e,alignSelf:{type:String,default:null,validator:e=>Ct.includes(e)},...j(),...K()},"VCol"),ae=P()({name:"VCol",props:_t(),setup(e,t){let{slots:n}=t;const o=c(()=>{const s=[];let a;for(a in oe)oe[a].forEach(r=>{const d=e[r],m=St(a,r,d);m&&s.push(m)});const i=s.some(r=>r.startsWith("v-col-"));return s.push({"v-col":!i||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),s});return()=>{var s;return fe(e.tag,{class:[o.value,e.class],style:e.style},(s=n.default)==null?void 0:s.call(n))}}}),W=["start","end","center"],Ie=["space-between","space-around","space-evenly"];function J(e,t){return E.reduce((n,o)=>{const s=e+G(o);return n[s]=t(),n},{})}const wt=[...W,"baseline","stretch"],ke=e=>wt.includes(e),Ve=J("align",()=>({type:String,default:null,validator:ke})),xt=[...W,...Ie],Le=e=>xt.includes(e),Ne=J("justify",()=>({type:String,default:null,validator:Le})),$t=[...W,...Ie,"stretch"],Ae=e=>$t.includes(e),Ee=J("alignContent",()=>({type:String,default:null,validator:Ae})),ie={align:Object.keys(Ve),justify:Object.keys(Ne),alignContent:Object.keys(Ee)},It={align:"align",justify:"justify",alignContent:"align-content"};function kt(e,t,n){let o=It[e];if(n!=null){if(t){const s=t.replace(e,"");o+=`-${s}`}return o+=`-${n}`,o.toLowerCase()}}const Vt=x({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:ke},...Ve,justify:{type:String,default:null,validator:Le},...Ne,alignContent:{type:String,default:null,validator:Ae},...Ee,...j(),...K()},"VRow"),Lt=P()({name:"VRow",props:Vt(),setup(e,t){let{slots:n}=t;const o=c(()=>{const s=[];let a;for(a in ie)ie[a].forEach(i=>{const r=e[i],d=kt(a,i,r);d&&s.push(d)});return s.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),s});return()=>{var s;return fe(e.tag,{class:["v-row",o.value,e.class],style:e.style},(s=n.default)==null?void 0:s.call(n))}}}),le=Je("App",{web:()=>ve(()=>import("./Diy11PoG.js"),__vite__mapDeps([0,1,2]),import.meta.url).then(e=>new e.AppWeb)}),Nt={setup(){return{store:Ce()}},data:()=>({select:null,selector:[{id:1,text:"Color",page:"/color"},{id:2,text:"Effect",page:"/effect"},{id:0,text:"Dmx Mode 0 (24ch)",page:"/config"},{id:3,text:"Dmx Mode 1 (3ch)",page:"/config"}]}),async mounted(){this.store.btAvailable=await this.$espconfig.getAvailability(),this.store.btAvailable?this.setEspConfig():this.store.btIcon="mdi-close-box",le.addListener("backButton",({canGoBack:e})=>{this.disconnect(),le.exitApp()})},methods:{async onConnected(){const{$event:e}=ee();this.store.btStat=!0,this.btnHandler("disconnect"),this.store.apName=this.$espconfig.device.name,await this.recieveCredentials(),this.selector[2].text="DMX Mode 0 ("+this.store.config.channels+" ch)",this.select=this.selector.find(t=>t.id===this.store.config.mode),D(this.select.page),e("bt:connected")},onDisconnected(){const{$event:e}=ee();this.store.btStat=!1,this.btnHandler("connect"),this.store.apName="",this.select=null,D("/"),e("bt:disconnected")},setEspConfig(){this.$espconfig.setSsidListUuid("1d338124-7ddc-449e-afc7-67f8673a1160"),this.$espconfig.setConnectionStatusUuid("5b3595c4-ad4f-4e1e-954e-3b290cc02eb0"),this.$espconfig.setOnConnected(this.onConnected),this.$espconfig.setOnDisconnected(this.onDisconnected)},async recieveCredentials(){let e;const t=new TextDecoder("windows-1252"),n=await this.$espconfig.readCredentials();e=tt(this.store.apName,n),e=t.decode(e),this.store.config=JSON.parse(e),await this.recieveWifiList(),this.$espconfig.connectionStatusUuid&&await this.$espconfig.startConnectionstatusNotifications(o=>{this.apStatus=o.target.value.getUint8()})},async recieveWifiList(){if(this.$espconfig.ssidListUuid){const e=new TextDecoder("windows-1252");let t=await this.$espconfig.readSsidlist();if(t)return t=e.decode(t),t=JSON.parse(t),this.wifiList=t.SSID,t;this.dropdownMessage="-- SSID from ESP32 --"}},async disconnect(){await this.$espconfig.disconnect()},async connectClick(){this.store.btStat?await this.$espconfig.disconnect():(this.setEspConfig(),this.btnHandler("searching"),await this.$espconfig.request().then(e=>this.$espconfig.connect()).catch(e=>{throw this.btnHandler("connect"),e}))},btnHandler(e){switch(e){case"connect":this.store.btBtnText="Connect ",this.store.btIcon="mdi-bluetooth";break;case"disconnect":this.store.btBtnText="Disconnect ",this.store.btIcon="mdi-bluetooth-off";break;case"searching":this.store.btBtnText="Connecting... ",this.store.btIcon="mdi-bluetooth-connect";break}},onSelect(e){this.store.config.mode=e.id,this.$espconfig.writeEffect(nt(this.store.apName,{mode:this.store.config.mode})),D(e.page)}}};function At(e,t,n,o,s,a){return me(),Xe("div",null,[g(ot,{"no-gutters":"",class:"pa-0 ma-0"},{default:b(()=>[g(Lt,null,{default:b(()=>[g(ae,null,{default:b(()=>[g(st,{"prepend-icon":o.store.btIcon,onClick:a.connectClick},{default:b(()=>[U(pe(o.store.btBtnText),1)]),_:1},8,["prepend-icon","onClick"])]),_:1}),g(ae,null,{default:b(()=>[g(ft,{density:"compact","hide-details":"auto",label:"Mode","hide-selected":"",disabled:!o.store.btStat,items:e.selector,"item-title":"text","item-value":"id",modelValue:e.select,"onUpdate:modelValue":[t[0]||(t[0]=i=>e.select=i),a.onSelect],"return-object":""},null,8,["disabled","items","modelValue","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1})])}const Pe=ge(Nt,[["render",At]]),Et=x({...j(),...mt({fullHeight:!0}),...he()},"VApp"),Pt=P()({name:"VApp",props:Et(),setup(e,t){let{slots:n}=t;const o=ye(e),{layoutClasses:s,getLayoutItem:a,items:i,layoutRef:r}=bt(e),{rtlClasses:d}=Ze();return Se(()=>{var m;return g("div",{ref:r,class:["v-application",o.themeClasses.value,s.value,d.value,e.class],style:[e.style]},[g("div",{class:"v-application__wrap"},[(m=n.default)==null?void 0:m.call(n)])])}),{getLayoutItem:a,items:i,theme:o}}}),jt=x({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...at(),...j(),...it(),...pt(),...lt(),...K({tag:"footer"}),...he()},"VFooter"),Rt=P()({name:"VFooter",props:jt(),setup(e,t){let{slots:n}=t;const o=re(),{themeClasses:s}=ye(e),{backgroundColorClasses:a,backgroundColorStyles:i}=ct(te(e,"color")),{borderClasses:r}=rt(e),{elevationClasses:d}=ut(e),{roundedClasses:m}=dt(e),S=F(32),{resizeRef:R}=be(w=>{w.length&&(S.value=w[0].target.clientHeight)}),C=c(()=>e.height==="auto"?S.value:parseInt(e.height,10));return qe(()=>e.app,()=>{const w=ht({id:e.name,order:c(()=>parseInt(e.order,10)),position:c(()=>"bottom"),layoutSize:C,elementSize:c(()=>e.height==="auto"?void 0:C.value),active:c(()=>e.app),absolute:te(e,"absolute")});Ye(()=>{o.value=w.layoutItemStyles.value})}),Se(()=>g(e.tag,{ref:R,class:["v-footer",s.value,a.value,r.value,d.value,m.value,e.class],style:[i.value,e.app?o.value:{height:A(e.height)},e.style]},n)),{}}}),{version:Bt}=Object.assign({"../package.json":()=>ve(()=>import("./3_VLGTUw.js"),[],import.meta.url)}),Ot={setup(){return{store:Ce()}},components:{Navbar:Pe},data(){return{version:Bt}}},Tt={class:"text-xs-center"};function zt(e,t,n,o,s,a){const i=Pe,r=et,d=vt;return me(),Qe(d,null,{default:b(()=>[g(Pt,null,{default:b(()=>[g(i,{app:""}),g(gt,null,{default:b(()=>[g(r)]),_:1}),g(Rt,{app:""},{default:b(()=>[ne("p",Tt,[t[0]||(t[0]=U(" © 2024 ")),t[1]||(t[1]=ne("a",{href:"http://robobug.ru"},"robobug.ru",-1)),U(pe(s.version),1)])]),_:1})]),_:1})]),_:1})}const Gt=ge(Ot,[["render",zt]]);export{Gt as default};
