const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./B1Olzgog.js","./DjrJLeFH.js","./entry.CGRFkGN0.css"])))=>i.map(i=>d[i]);
import{J as I,ao as Ce,i as u,r as Se,as as D,at as ke,L as te,o as et,al as Ve,au as tt,N as O,a9 as at,G as nt,H as st,e as ot,av as F,aw as ae,a7 as _,h as Ie,ax as lt,ay as xe,a5 as it,z as o,az as U,ab as ue,ag as ne,ah as se,ae as ct,ap as rt,a6 as ut,_ as _e,a as de,m as Y,t as Ae,v as dt,A as b,B as H,y as L,x as $,a4 as ft,ak as fe,aA as vt,D as mt,ac as gt,aB as yt}from"./DjrJLeFH.js";import{u as we,s as Pe,a as ve,h as Q,t as pt,v as ht,w as bt,R as Ct,x as St,y as kt,e as Vt,z as It,L as xt,A as _t,b as At,j as wt,V as Pt}from"./BksoZR79.js";import{m as A,c as B,u as T,j as Le,k as Lt,e as $e,l as $t,n as Nt,d as Ne,o as Te,p as Tt,f as Be,q as Bt,r as Et,h as Ee,b as je,V as jt,i as Rt}from"./DxigiMty.js";import{d as Dt,e as me,g as Ot,c as zt,h as Mt,_ as Ut,a as Ht}from"./e6YCfhkx.js";import{V as Ft}from"./HWqB0x95.js";const ee=Symbol.for("vuetify:layout"),Re=Symbol.for("vuetify:layout-item"),ge=1e3,Gt=I({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),Kt=I({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function Wt(e){const n=Ce(ee);if(!n)throw new Error("[Vuetify] Could not find injected layout");const a=e.id??`layout-item-${at()}`,t=ke("useLayoutItem");Ve(Re,{id:a});const s=te(!1);nt(()=>s.value=!0),st(()=>s.value=!1);const{layoutItemStyles:l,layoutItemScrimStyles:i}=n.register(t,{...e,active:u(()=>s.value?!1:e.active.value),id:a});return ot(()=>n.unregister(a)),{layoutItemStyles:l,layoutRect:n.layoutRect,layoutItemScrimStyles:i}}const Jt=(e,n,a,t)=>{let s={top:0,left:0,right:0,bottom:0};const l=[{id:"",layer:{...s}}];for(const i of e){const c=n.get(i),f=a.get(i),m=t.get(i);if(!c||!f||!m)continue;const g={...s,[c.value]:parseInt(s[c.value],10)+(m.value?parseInt(f.value,10):0)};l.push({id:i,layer:g}),s=g}return l};function qt(e){const n=Ce(ee,null),a=u(()=>n?n.rootZIndex.value-100:ge),t=Se([]),s=D(new Map),l=D(new Map),i=D(new Map),c=D(new Map),f=D(new Map),{resizeRef:m,contentRect:g}=we(),E=u(()=>{const d=new Map,p=e.overlaps??[];for(const r of p.filter(y=>y.includes(":"))){const[y,v]=r.split(":");if(!t.value.includes(y)||!t.value.includes(v))continue;const h=s.get(y),C=s.get(v),P=l.get(y),j=l.get(v);!h||!C||!P||!j||(d.set(v,{position:h.value,amount:parseInt(P.value,10)}),d.set(y,{position:C.value,amount:-parseInt(j.value,10)}))}return d}),S=u(()=>{const d=[...new Set([...i.values()].map(r=>r.value))].sort((r,y)=>r-y),p=[];for(const r of d){const y=t.value.filter(v=>{var h;return((h=i.get(v))==null?void 0:h.value)===r});p.push(...y)}return Jt(p,s,l,c)}),x=u(()=>!Array.from(f.values()).some(d=>d.value)),N=u(()=>S.value[S.value.length-1].layer),G=u(()=>({"--v-layout-left":O(N.value.left),"--v-layout-right":O(N.value.right),"--v-layout-top":O(N.value.top),"--v-layout-bottom":O(N.value.bottom),...x.value?void 0:{transition:"none"}})),k=u(()=>S.value.slice(1).map((d,p)=>{let{id:r}=d;const{layer:y}=S.value[p],v=l.get(r),h=s.get(r);return{id:r,...y,size:Number(v.value),position:h.value}})),z=d=>k.value.find(p=>p.id===d),w=ke("createLayout"),M=te(!1);et(()=>{M.value=!0}),Ve(ee,{register:(d,p)=>{let{id:r,order:y,position:v,layoutSize:h,elementSize:C,active:P,disableTransitions:j,absolute:qe}=p;i.set(r,y),s.set(r,v),l.set(r,h),c.set(r,P),j&&f.set(r,j);const ie=tt(Re,w==null?void 0:w.vnode).indexOf(d);ie>-1?t.value.splice(ie,0,r):t.value.push(r);const ce=u(()=>k.value.findIndex(R=>R.id===r)),J=u(()=>a.value+S.value.length*2-ce.value*2),Xe=u(()=>{const R=v.value==="left"||v.value==="right",q=v.value==="right",Ye=v.value==="bottom",X=C.value??h.value,Qe=X===0?"%":"px",re={[v.value]:0,zIndex:J.value,transform:`translate${R?"X":"Y"}(${(P.value?0:-(X===0?100:X))*(q||Ye?-1:1)}${Qe})`,position:qe.value||a.value!==ge?"absolute":"fixed",...x.value?void 0:{transition:"none"}};if(!M.value)return re;const V=k.value[ce.value];if(!V)throw new Error(`[Vuetify] Could not find layout item "${r}"`);const Z=E.value.get(r);return Z&&(V[Z.position]+=Z.amount),{...re,height:R?`calc(100% - ${V.top}px - ${V.bottom}px)`:C.value?`${C.value}px`:void 0,left:q?void 0:`${V.left}px`,right:q?`${V.right}px`:void 0,top:v.value!=="bottom"?`${V.top}px`:void 0,bottom:v.value!=="top"?`${V.bottom}px`:void 0,width:R?C.value?`${C.value}px`:void 0:`calc(100% - ${V.left}px - ${V.right}px)`}}),Ze=u(()=>({zIndex:J.value-1}));return{layoutItemStyles:Xe,layoutItemScrimStyles:Ze,zIndex:J}},unregister:d=>{i.delete(d),s.delete(d),l.delete(d),c.delete(d),f.delete(d),t.value=t.value.filter(p=>p!==d)},mainRect:N,mainStyles:G,getLayoutItem:z,items:k,layoutRect:g,rootZIndex:a});const K=u(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),W=u(()=>({zIndex:n?a.value:void 0,position:n?"relative":void 0,overflow:n?"hidden":void 0}));return{layoutClasses:K,layoutStyles:W,getLayoutItem:z,items:k,layoutRect:g,layoutRef:m}}const De=F.reduce((e,n)=>(e[n]={type:[Boolean,String,Number],default:!1},e),{}),Oe=F.reduce((e,n)=>{const a="offset"+ae(n);return e[a]={type:[String,Number],default:null},e},{}),ze=F.reduce((e,n)=>{const a="order"+ae(n);return e[a]={type:[String,Number],default:null},e},{}),ye={col:Object.keys(De),offset:Object.keys(Oe),order:Object.keys(ze)};function Xt(e,n,a){let t=e;if(!(a==null||a===!1)){if(n){const s=n.replace(e,"");t+=`-${s}`}return e==="col"&&(t="v-"+t),e==="col"&&(a===""||a===!0)||(t+=`-${a}`),t.toLowerCase()}}const Zt=["auto","start","end","center","baseline","stretch"],Yt=I({cols:{type:[Boolean,String,Number],default:!1},...De,offset:{type:[String,Number],default:null},...Oe,order:{type:[String,Number],default:null},...ze,alignSelf:{type:String,default:null,validator:e=>Zt.includes(e)},...A(),...B()},"VCol"),pe=_()({name:"VCol",props:Yt(),setup(e,n){let{slots:a}=n;const t=u(()=>{const s=[];let l;for(l in ye)ye[l].forEach(c=>{const f=e[c],m=Xt(l,c,f);m&&s.push(m)});const i=s.some(c=>c.startsWith("v-col-"));return s.push({"v-col":!i||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),s});return()=>{var s;return Ie(e.tag,{class:[t.value,e.class],style:e.style},(s=a.default)==null?void 0:s.call(a))}}}),oe=["start","end","center"],Me=["space-between","space-around","space-evenly"];function le(e,n){return F.reduce((a,t)=>{const s=e+ae(t);return a[s]=n(),a},{})}const Qt=[...oe,"baseline","stretch"],Ue=e=>Qt.includes(e),He=le("align",()=>({type:String,default:null,validator:Ue})),ea=[...oe,...Me],Fe=e=>ea.includes(e),Ge=le("justify",()=>({type:String,default:null,validator:Fe})),ta=[...oe,...Me,"stretch"],Ke=e=>ta.includes(e),We=le("alignContent",()=>({type:String,default:null,validator:Ke})),he={align:Object.keys(He),justify:Object.keys(Ge),alignContent:Object.keys(We)},aa={align:"align",justify:"justify",alignContent:"align-content"};function na(e,n,a){let t=aa[e];if(a!=null){if(n){const s=n.replace(e,"");t+=`-${s}`}return t+=`-${a}`,t.toLowerCase()}}const sa=I({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:Ue},...He,justify:{type:String,default:null,validator:Fe},...Ge,alignContent:{type:String,default:null,validator:Ke},...We,...A(),...B()},"VRow"),oa=_()({name:"VRow",props:sa(),setup(e,n){let{slots:a}=n;const t=u(()=>{const s=[];let l;for(l in he)he[l].forEach(i=>{const c=e[i],f=na(l,i,c);f&&s.push(f)});return s.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),s});return()=>{var s;return Ie(e.tag,{class:["v-row",t.value,e.class],style:e.style},(s=a.default)==null?void 0:s.call(a))}}}),be=lt("App",{web:()=>xe(()=>import("./B1Olzgog.js"),__vite__mapDeps([0,1,2]),import.meta.url).then(e=>new e.AppWeb)}),la=_()({name:"VCardActions",props:A(),setup(e,n){let{slots:a}=n;return it({VBtn:{slim:!0,variant:"text"}}),T(()=>{var t;return o("div",{class:["v-card-actions",e.class],style:e.style},[(t=a.default)==null?void 0:t.call(a)])}),{}}}),ia=I({opacity:[Number,String],...A(),...B()},"VCardSubtitle"),ca=_()({name:"VCardSubtitle",props:ia(),setup(e,n){let{slots:a}=n;return T(()=>o(e.tag,{class:["v-card-subtitle",e.class],style:[{"--v-card-subtitle-opacity":e.opacity},e.style]},a)),{}}}),ra=Dt("v-card-title"),ua=I({appendAvatar:String,appendIcon:U,prependAvatar:String,prependIcon:U,subtitle:[String,Number],title:[String,Number],...A(),...Pe()},"VCardItem"),da=_()({name:"VCardItem",props:ua(),setup(e,n){let{slots:a}=n;return T(()=>{var m;const t=!!(e.prependAvatar||e.prependIcon),s=!!(t||a.prepend),l=!!(e.appendAvatar||e.appendIcon),i=!!(l||a.append),c=!!(e.title!=null||a.title),f=!!(e.subtitle!=null||a.subtitle);return o("div",{class:["v-card-item",e.class],style:e.style},[s&&o("div",{key:"prepend",class:"v-card-item__prepend"},[a.prepend?o(Q,{key:"prepend-defaults",disabled:!t,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon}}},a.prepend):o(ue,null,[e.prependAvatar&&o(me,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&o(ve,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)])]),o("div",{class:"v-card-item__content"},[c&&o(ra,{key:"title"},{default:()=>{var g;return[((g=a.title)==null?void 0:g.call(a))??e.title]}}),f&&o(ca,{key:"subtitle"},{default:()=>{var g;return[((g=a.subtitle)==null?void 0:g.call(a))??e.subtitle]}}),(m=a.default)==null?void 0:m.call(a)]),i&&o("div",{key:"append",class:"v-card-item__append"},[a.append?o(Q,{key:"append-defaults",disabled:!l,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon}}},a.append):o(ue,null,[e.appendIcon&&o(ve,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&o(me,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)])])])}),{}}}),fa=I({opacity:[Number,String],...A(),...B()},"VCardText"),va=_()({name:"VCardText",props:fa(),setup(e,n){let{slots:a}=n;return T(()=>o(e.tag,{class:["v-card-text",e.class],style:[{"--v-card-text-opacity":e.opacity},e.style]},a)),{}}}),ma=I({appendAvatar:String,appendIcon:U,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:U,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number],text:[String,Number],title:[String,Number],...Le(),...A(),...Pe(),...Lt(),...$e(),...pt(),...$t(),...Nt(),...Ne(),...ht(),...B(),...ne(),...bt({variant:"elevated"})},"VCard"),ga=_()({name:"VCard",directives:{Ripple:Ct},props:ma(),setup(e,n){let{attrs:a,slots:t}=n;const{themeClasses:s}=se(e),{borderClasses:l}=Te(e),{colorClasses:i,colorStyles:c,variantClasses:f}=St(e),{densityClasses:m}=kt(e),{dimensionStyles:g}=Tt(e),{elevationClasses:E}=Be(e),{loaderClasses:S}=Vt(e),{locationStyles:x}=Bt(e),{positionClasses:N}=Et(e),{roundedClasses:G}=Ee(e),k=It(e,a),z=u(()=>e.link!==!1&&k.isLink.value),w=u(()=>!e.disabled&&e.link!==!1&&(e.link||k.isClickable.value));return T(()=>{const M=z.value?"a":e.tag,K=!!(t.title||e.title!=null),W=!!(t.subtitle||e.subtitle!=null),d=K||W,p=!!(t.append||e.appendAvatar||e.appendIcon),r=!!(t.prepend||e.prependAvatar||e.prependIcon),y=!!(t.image||e.image),v=d||r||p,h=!!(t.text||e.text!=null);return ct(o(M,ut({class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":w.value},s.value,l.value,i.value,m.value,E.value,S.value,N.value,G.value,f.value,e.class],style:[c.value,g.value,x.value,e.style],onClick:w.value&&k.navigate,tabindex:e.disabled?-1:void 0},k.linkProps),{default:()=>{var C;return[y&&o("div",{key:"image",class:"v-card__image"},[t.image?o(Q,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},t.image):o(Ft,{key:"image-img",cover:!0,src:e.image},null)]),o(xt,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:t.loader}),v&&o(da,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:t.item,prepend:t.prepend,title:t.title,subtitle:t.subtitle,append:t.append}),h&&o(va,{key:"text"},{default:()=>{var P;return[((P=t.text)==null?void 0:P.call(t))??e.text]}}),(C=t.default)==null?void 0:C.call(t),t.actions&&o(la,null,{default:t.actions}),_t(w.value,"v-card")]}}),[[rt("ripple"),w.value&&e.ripple]])}),{}}}),ya={setup(){return{store:je()}},data:()=>({select:null,selector:[{id:1,text:"Color",page:"/color"},{id:2,text:"Effect",page:"/effect"},{id:0,text:"Dmx Mode 0 (24ch)",page:"/config"},{id:3,text:"Dmx Mode 1 (3ch)",page:"/config"}],stat:!1}),async mounted(){this.store.btAvailable=await this.$espconfig.getAvailability(),this.store.btAvailable?this.setEspConfig():this.store.btIcon="mdi-close-box",be.addListener("backButton",({canGoBack:e})=>{this.disconnect(),be.exitApp()})},methods:{async onConnected(){const{$event:e}=de();this.store.btStat=!0,this.btnHandler("disconnect"),this.store.apName=this.$espconfig.device.name,await this.recieveCredentials(),this.selector[2].text="DMX Mode 0 ("+this.store.config.channels+" ch)",this.select=this.selector.find(n=>n.id===this.store.config.mode),Y(this.select.page),e("bt:connected")},onDisconnected(){const{$event:e}=de();this.store.btStat=!1,this.btnHandler("connect"),this.store.apName="",this.select=null,Y("/"),e("bt:disconnected")},setEspConfig(){this.$espconfig.setSsidListUuid("1d338124-7ddc-449e-afc7-67f8673a1160"),this.$espconfig.setConnectionStatusUuid("5b3595c4-ad4f-4e1e-954e-3b290cc02eb0"),this.$espconfig.setOnConnected(this.onConnected),this.$espconfig.setOnDisconnected(this.onDisconnected)},async recieveCredentials(){let e;const n=new TextDecoder("windows-1252"),a=await this.$espconfig.readCredentials();e=At(this.store.apName,a),e=n.decode(e),this.store.config=JSON.parse(e),await this.recieveWifiList(),this.$espconfig.connectionStatusUuid&&await this.$espconfig.startConnectionstatusNotifications(t=>{this.apStatus=t.target.value.getUint8()})},async recieveWifiList(){if(this.$espconfig.ssidListUuid){const e=new TextDecoder("windows-1252");let n=await this.$espconfig.readSsidlist();if(n)return n=e.decode(n),n=JSON.parse(n),this.wifiList=n.SSID,n;this.dropdownMessage="-- SSID from ESP32 --"}},async disconnect(){await this.$espconfig.disconnect()},async connectClick(){this.store.btStat?await this.$espconfig.disconnect():(this.setEspConfig(),this.btnHandler("searching"),await this.$espconfig.request().then(e=>this.$espconfig.connect()).catch(e=>{throw this.btnHandler("connect"),e}))},btnHandler(e){switch(e){case"connect":this.store.btBtnText="Connect ",this.store.btIcon="mdi-bluetooth";break;case"disconnect":this.store.btBtnText="Disconnect ",this.store.btIcon="mdi-bluetooth-off";break;case"searching":this.store.btBtnText="Connecting... ",this.store.btIcon="mdi-bluetooth-connect";break}},onSelect(e){this.store.config.mode=e.id,this.$espconfig.writeEffect(wt(this.store.apName,{mode:this.store.config.mode})),Y(e.page)}}};function pa(e,n,a,t,s,l){return Ae(),dt("div",null,[o(jt,{"no-gutters":"",class:"pa-0 ma-0"},{default:b(()=>[o(oa,null,{default:b(()=>[o(pe,null,{default:b(()=>[o(Pt,{"prepend-icon":t.store.btIcon,onClick:l.connectClick},{default:b(()=>[H(L(t.store.btBtnText),1)]),_:1},8,["prepend-icon","onClick"]),o(Ot,{disabled:!t.store.btStat,class:"ml-5",rounded:"l",onClick:n[0]||(n[0]=i=>e.stat=!e.stat)},{default:b(()=>n[3]||(n[3]=[H(" i ")])),_:1},8,["disabled"])]),_:1}),o(pe,null,{default:b(()=>[o(zt,{density:"compact","hide-details":"auto",label:"Mode","hide-selected":"",disabled:!t.store.btStat,items:e.selector,"item-title":"text","item-value":"id",modelValue:e.select,"onUpdate:modelValue":[n[1]||(n[1]=i=>e.select=i),l.onSelect],"return-object":""},null,8,["disabled","items","modelValue","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1}),o(Mt,{modelValue:e.stat,"onUpdate:modelValue":n[2]||(n[2]=i=>e.stat=i),class:"justify-center align-center"},{default:b(()=>[o(ga,{class:"pa-5"},{default:b(()=>[$("p",null,L(t.store.config.name),1),$("p",null,"build: "+L(t.store.config.date),1),$("p",null,"ip: "+L(t.store.config.ip),1),$("p",null,"netmask: "+L(t.store.config.mask),1),$("p",null,"gateway: "+L(t.store.config.gate),1),$("p",null,"mac: "+L(t.store.config.mac),1)]),_:1})]),_:1},8,["modelValue"])])}const Je=_e(ya,[["render",pa]]),ha=I({...A(),...Gt({fullHeight:!0}),...ne()},"VApp"),ba=_()({name:"VApp",props:ha(),setup(e,n){let{slots:a}=n;const t=se(e),{layoutClasses:s,getLayoutItem:l,items:i,layoutRef:c}=qt(e),{rtlClasses:f}=ft();return T(()=>{var m;return o("div",{ref:c,class:["v-application",t.themeClasses.value,s.value,f.value,e.class],style:[e.style]},[o("div",{class:"v-application__wrap"},[(m=a.default)==null?void 0:m.call(a)])])}),{getLayoutItem:l,items:i,theme:t}}}),Ca=I({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...Le(),...A(),...$e(),...Kt(),...Ne(),...B({tag:"footer"}),...ne()},"VFooter"),Sa=_()({name:"VFooter",props:Ca(),setup(e,n){let{slots:a}=n;const t=Se(),{themeClasses:s}=se(e),{backgroundColorClasses:l,backgroundColorStyles:i}=Rt(fe(e,"color")),{borderClasses:c}=Te(e),{elevationClasses:f}=Be(e),{roundedClasses:m}=Ee(e),g=te(32),{resizeRef:E}=we(x=>{x.length&&(g.value=x[0].target.clientHeight)}),S=u(()=>e.height==="auto"?g.value:parseInt(e.height,10));return vt(()=>e.app,()=>{const x=Wt({id:e.name,order:u(()=>parseInt(e.order,10)),position:u(()=>"bottom"),layoutSize:S,elementSize:u(()=>e.height==="auto"?void 0:S.value),active:u(()=>e.app),absolute:fe(e,"absolute")});mt(()=>{t.value=x.layoutItemStyles.value})}),T(()=>o(e.tag,{ref:E,class:["v-footer",s.value,l.value,c.value,f.value,m.value,e.class],style:[i.value,e.app?t.value:{height:O(e.height)},e.style]},a)),{}}}),{version:ka}=Object.assign({"../package.json":()=>xe(()=>import("./pLtg6u4t.js"),[],import.meta.url)}),Va={setup(){return{store:je()}},components:{Navbar:Je},data(){return{version:ka}}},Ia={class:"text-xs-center"};function xa(e,n,a,t,s,l){const i=Je,c=yt,f=Ut;return Ae(),gt(f,null,{default:b(()=>[o(ba,null,{default:b(()=>[o(i,{app:""}),o(Ht,null,{default:b(()=>[o(c)]),_:1}),o(Sa,{app:""},{default:b(()=>[$("p",Ia,[n[0]||(n[0]=H(" © 2024 ")),n[1]||(n[1]=$("a",{href:"http://robobug.ru"},"robobug.ru",-1)),H(L(s.version),1)])]),_:1})]),_:1})]),_:1})}const Na=_e(Va,[["render",xa]]);export{Na as default};
