function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./C_5uOL96.js","./DDqNWVn0.js","./entry.C20eVz5Z.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{L as w,ap as ie,aa as ze,as as le,am as ce,N as H,I as Me,J as De,c,e as Ue,r as He,at as N,o as Fe,au as Ge,P as A,av as E,aw as F,a9 as j,g as re,ax as Ke,ay as ue,_ as de,q as M,t as fe,v as We,z as m,A as b,B as D,y as ve,m as Q,ah as me,ai as ge,a6 as Je,al as ee,ad as qe,x as pe,az as Ze}from"./DDqNWVn0.js";import{u as he,m as R,s as G,e as ye,f as Xe,j as Ye,V as Qe,d as et,a as be,F as tt,y as nt,x as st,C as ot,G as at,z as it,B as lt}from"./Cj-VcxK2.js";import{c as ct,_ as rt,a as ut}from"./DRM5m7Z6.js";const U=Symbol.for("vuetify:layout"),Se=Symbol.for("vuetify:layout-item"),te=1e3,dt=w({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),ft=w({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function vt(e){const t=ie(U);if(!t)throw new Error("[Vuetify] Could not find injected layout");const n=e.id??`layout-item-${ze()}`,o=le("useLayoutItem");ce(Se,{id:n});const s=H(!1);Me(()=>s.value=!0),De(()=>s.value=!1);const{layoutItemStyles:a,layoutItemScrimStyles:i}=t.register(o,{...e,active:c(()=>s.value?!1:e.active.value),id:n});return Ue(()=>t.unregister(n)),{layoutItemStyles:a,layoutRect:t.layoutRect,layoutItemScrimStyles:i}}const mt=(e,t,n,o)=>{let s={top:0,left:0,right:0,bottom:0};const a=[{id:"",layer:{...s}}];for(const i of e){const r=t.get(i),d=n.get(i),g=o.get(i);if(!r||!d||!g)continue;const S={...s,[r.value]:parseInt(s[r.value],10)+(g.value?parseInt(d.value,10):0)};a.push({id:i,layer:S}),s=S}return a};function gt(e){const t=ie(U,null),n=c(()=>t?t.rootZIndex.value-100:te),o=He([]),s=N(new Map),a=N(new Map),i=N(new Map),r=N(new Map),d=N(new Map),{resizeRef:g,contentRect:S}=he(),P=c(()=>{const u=new Map,p=e.overlaps??[];for(const l of p.filter(v=>v.includes(":"))){const[v,f]=l.split(":");if(!o.value.includes(v)||!o.value.includes(f))continue;const y=s.get(v),C=s.get(f),k=a.get(v),V=a.get(f);!y||!C||!k||!V||(u.set(f,{position:y.value,amount:parseInt(k.value,10)}),u.set(v,{position:C.value,amount:-parseInt(V.value,10)}))}return u}),_=c(()=>{const u=[...new Set([...i.values()].map(l=>l.value))].sort((l,v)=>l-v),p=[];for(const l of u){const v=o.value.filter(f=>{var y;return((y=i.get(f))==null?void 0:y.value)===l});p.push(...v)}return mt(p,s,a,r)}),x=c(()=>!Array.from(d.values()).some(u=>u.value)),$=c(()=>_.value[_.value.length-1].layer),Pe=c(()=>({"--v-layout-left":A($.value.left),"--v-layout-right":A($.value.right),"--v-layout-top":A($.value.top),"--v-layout-bottom":A($.value.bottom),...x.value?void 0:{transition:"none"}})),I=c(()=>_.value.slice(1).map((u,p)=>{let{id:l}=u;const{layer:v}=_.value[p],f=a.get(l),y=s.get(l);return{id:l,...v,size:Number(f.value),position:y.value}})),J=u=>I.value.find(p=>p.id===u),B=le("createLayout"),q=H(!1);Fe(()=>{q.value=!0}),ce(U,{register:(u,p)=>{let{id:l,order:v,position:f,layoutSize:y,elementSize:C,active:k,disableTransitions:V,absolute:Re}=p;i.set(l,v),s.set(l,f),a.set(l,y),r.set(l,k),V&&d.set(l,V);const Z=Ge(Se,B==null?void 0:B.vnode).indexOf(u);Z>-1?o.value.splice(Z,0,l):o.value.push(l);const X=c(()=>I.value.findIndex(L=>L.id===l)),O=c(()=>n.value+_.value.length*2-X.value*2),Be=c(()=>{const L=f.value==="left"||f.value==="right",T=f.value==="right",Te=f.value==="bottom",Y={[f.value]:0,zIndex:O.value,transform:`translate${L?"X":"Y"}(${(k.value?0:-110)*(T||Te?-1:1)}%)`,position:Re.value||n.value!==te?"absolute":"fixed",...x.value?void 0:{transition:"none"}};if(!q.value)return Y;const h=I.value[X.value];if(!h)throw new Error(`[Vuetify] Could not find layout item "${l}"`);const z=P.value.get(l);return z&&(h[z.position]+=z.amount),{...Y,height:L?`calc(100% - ${h.top}px - ${h.bottom}px)`:C.value?`${C.value}px`:void 0,left:T?void 0:`${h.left}px`,right:T?`${h.right}px`:void 0,top:f.value!=="bottom"?`${h.top}px`:void 0,bottom:f.value!=="top"?`${h.bottom}px`:void 0,width:L?C.value?`${C.value}px`:void 0:`calc(100% - ${h.left}px - ${h.right}px)`}}),Oe=c(()=>({zIndex:O.value-1}));return{layoutItemStyles:Be,layoutItemScrimStyles:Oe,zIndex:O}},unregister:u=>{i.delete(u),s.delete(u),a.delete(u),r.delete(u),d.delete(u),o.value=o.value.filter(p=>p!==u)},mainRect:$,mainStyles:Pe,getLayoutItem:J,items:I,layoutRect:S,rootZIndex:n});const Ee=c(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),je=c(()=>({zIndex:t?n.value:void 0,position:t?"relative":void 0,overflow:t?"hidden":void 0}));return{layoutClasses:Ee,layoutStyles:je,getLayoutItem:J,items:I,layoutRect:S,layoutRef:g}}const _e=E.reduce((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e),{}),Ce=E.reduce((e,t)=>{const n="offset"+F(t);return e[n]={type:[String,Number],default:null},e},{}),we=E.reduce((e,t)=>{const n="order"+F(t);return e[n]={type:[String,Number],default:null},e},{}),ne={col:Object.keys(_e),offset:Object.keys(Ce),order:Object.keys(we)};function pt(e,t,n){let o=e;if(!(n==null||n===!1)){if(t){const s=t.replace(e,"");o+=`-${s}`}return e==="col"&&(o="v-"+o),e==="col"&&(n===""||n===!0)||(o+=`-${n}`),o.toLowerCase()}}const ht=["auto","start","end","center","baseline","stretch"],yt=w({cols:{type:[Boolean,String,Number],default:!1},..._e,offset:{type:[String,Number],default:null},...Ce,order:{type:[String,Number],default:null},...we,alignSelf:{type:String,default:null,validator:e=>ht.includes(e)},...R(),...G()},"VCol"),se=j()({name:"VCol",props:yt(),setup(e,t){let{slots:n}=t;const o=c(()=>{const s=[];let a;for(a in ne)ne[a].forEach(r=>{const d=e[r],g=pt(a,r,d);g&&s.push(g)});const i=s.some(r=>r.startsWith("v-col-"));return s.push({"v-col":!i||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),s});return()=>{var s;return re(e.tag,{class:[o.value,e.class],style:e.style},(s=n.default)==null?void 0:s.call(n))}}}),K=["start","end","center"],xe=["space-between","space-around","space-evenly"];function W(e,t){return E.reduce((n,o)=>{const s=e+F(o);return n[s]=t(),n},{})}const bt=[...K,"baseline","stretch"],$e=e=>bt.includes(e),Ie=W("align",()=>({type:String,default:null,validator:$e})),St=[...K,...xe],ke=e=>St.includes(e),Ve=W("justify",()=>({type:String,default:null,validator:ke})),_t=[...K,...xe,"stretch"],Le=e=>_t.includes(e),Ne=W("alignContent",()=>({type:String,default:null,validator:Le})),oe={align:Object.keys(Ie),justify:Object.keys(Ve),alignContent:Object.keys(Ne)},Ct={align:"align",justify:"justify",alignContent:"align-content"};function wt(e,t,n){let o=Ct[e];if(n!=null){if(t){const s=t.replace(e,"");o+=`-${s}`}return o+=`-${n}`,o.toLowerCase()}}const xt=w({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:$e},...Ie,justify:{type:String,default:null,validator:ke},...Ve,alignContent:{type:String,default:null,validator:Le},...Ne,...R(),...G()},"VRow"),$t=j()({name:"VRow",props:xt(),setup(e,t){let{slots:n}=t;const o=c(()=>{const s=[];let a;for(a in oe)oe[a].forEach(i=>{const r=e[i],d=wt(a,i,r);d&&s.push(d)});return s.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),s});return()=>{var s;return re(e.tag,{class:["v-row",o.value,e.class],style:e.style},(s=n.default)==null?void 0:s.call(n))}}}),ae=Ke("App",{web:()=>ue(()=>import("./C_5uOL96.js"),__vite__mapDeps([0,1,2]),import.meta.url).then(e=>new e.AppWeb)}),It={setup(){return{store:ye()}},data:()=>({select:null,selector:[{id:1,text:"Color",page:"/color"},{id:2,text:"Effect",page:"/effect"},{id:0,text:"Dmx Mode 0",page:"/config"},{id:3,text:"Dmx Mode 1",page:"/config"}]}),async mounted(){this.store.btAvailable=await this.$espconfig.getAvailability(),this.store.btAvailable?this.setEspConfig():this.store.btIcon="mdi-close-box",ae.addListener("backButton",({canGoBack:e})=>{this.disconnect(),ae.exitApp()})},methods:{async onConnected(){const{$event:e}=Q();this.store.btStat=!0,this.btnHandler("disconnect"),this.store.apName=this.$espconfig.device.name,await this.recieveCredentials(),this.select=this.selector.find(t=>t.id===this.store.config.mode),M(this.select.page),e("bt:connected")},onDisconnected(){const{$event:e}=Q();this.store.btStat=!1,this.btnHandler("connect"),this.store.apName="",this.select=null,M("/"),e("bt:disconnected")},setEspConfig(){this.$espconfig.setSsidListUuid("1d338124-7ddc-449e-afc7-67f8673a1160"),this.$espconfig.setConnectionStatusUuid("5b3595c4-ad4f-4e1e-954e-3b290cc02eb0"),this.$espconfig.setOnConnected(this.onConnected),this.$espconfig.setOnDisconnected(this.onDisconnected)},async recieveCredentials(){let e;const t=new TextDecoder("windows-1252"),n=await this.$espconfig.readCredentials();e=Xe(this.store.apName,n),e=t.decode(e),this.store.config=JSON.parse(e),await this.recieveWifiList(),this.$espconfig.connectionStatusUuid&&await this.$espconfig.startConnectionstatusNotifications(o=>{this.apStatus=o.target.value.getUint8()})},async recieveWifiList(){if(this.$espconfig.ssidListUuid){const e=new TextDecoder("windows-1252");let t=await this.$espconfig.readSsidlist();if(t)return t=e.decode(t),t=JSON.parse(t),this.wifiList=t.SSID,t;this.dropdownMessage="-- SSID from ESP32 --"}},async disconnect(){await this.$espconfig.disconnect()},async connectClick(){this.store.btStat?await this.$espconfig.disconnect():(this.setEspConfig(),this.btnHandler("searching"),await this.$espconfig.request().then(e=>this.$espconfig.connect()).catch(e=>{throw this.btnHandler("connect"),e}))},btnHandler(e){switch(e){case"connect":this.store.btBtnText="Connect ",this.store.btIcon="mdi-bluetooth";break;case"disconnect":this.store.btBtnText="Disconnect ",this.store.btIcon="mdi-bluetooth-off";break;case"searching":this.store.btBtnText="Connecting... ",this.store.btIcon="mdi-bluetooth-connect";break}},onSelect(e){this.store.config.mode=e.id,this.$espconfig.writeEffect(Ye(this.store.apName,{mode:this.store.config.mode})),M(e.page)}}};function kt(e,t,n,o,s,a){return fe(),We("div",null,[m(et,{"no-gutters":"",class:"pa-0 ma-0"},{default:b(()=>[m($t,null,{default:b(()=>[m(se,null,{default:b(()=>[m(Qe,{"prepend-icon":o.store.btIcon,onClick:a.connectClick},{default:b(()=>[D(ve(o.store.btBtnText),1)]),_:1},8,["prepend-icon","onClick"])]),_:1}),m(se,null,{default:b(()=>[m(ct,{density:"compact","hide-details":"auto",label:"Mode","hide-selected":"",disabled:!o.store.btStat,items:e.selector,"item-title":"text","item-value":"id",modelValue:e.select,"onUpdate:modelValue":[t[0]||(t[0]=i=>e.select=i),a.onSelect],"return-object":""},null,8,["disabled","items","modelValue","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1})])}const Ae=de(It,[["render",kt]]),Vt=w({...R(),...dt({fullHeight:!0}),...me()},"VApp"),Lt=j()({name:"VApp",props:Vt(),setup(e,t){let{slots:n}=t;const o=ge(e),{layoutClasses:s,getLayoutItem:a,items:i,layoutRef:r}=gt(e),{rtlClasses:d}=Je();return be(()=>{var g;return m("div",{ref:r,class:["v-application",o.themeClasses.value,s.value,d.value,e.class],style:[e.style]},[m("div",{class:"v-application__wrap"},[(g=n.default)==null?void 0:g.call(n)])])}),{getLayoutItem:a,items:i,theme:o}}}),Nt=w({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...tt(),...R(),...nt(),...ft(),...st(),...G({tag:"footer"}),...me()},"VFooter"),At=j()({name:"VFooter",props:Nt(),setup(e,t){let{slots:n}=t;const{themeClasses:o}=ge(e),{backgroundColorClasses:s,backgroundColorStyles:a}=ot(ee(e,"color")),{borderClasses:i}=at(e),{elevationClasses:r}=it(e),{roundedClasses:d}=lt(e),g=H(32),{resizeRef:S}=he(x=>{x.length&&(g.value=x[0].target.clientHeight)}),P=c(()=>e.height==="auto"?g.value:parseInt(e.height,10)),{layoutItemStyles:_}=vt({id:e.name,order:c(()=>parseInt(e.order,10)),position:c(()=>"bottom"),layoutSize:P,elementSize:c(()=>e.height==="auto"?void 0:P.value),active:c(()=>e.app),absolute:ee(e,"absolute")});return be(()=>m(e.tag,{ref:S,class:["v-footer",o.value,s.value,i.value,r.value,d.value,e.class],style:[a.value,e.app?_.value:{height:A(e.height)},e.style]},n)),{}}}),{version:Pt}=Object.assign({"../package.json":()=>ue(()=>import("./CbP2dwxn.js"),__vite__mapDeps([]),import.meta.url)}),Et={setup(){return{store:ye()}},components:{Navbar:Ae},data(){return{version:Pt}}},jt={class:"text-xs-center"},Rt=pe("a",{href:"http://robobug.ru"},"robobug.ru",-1);function Bt(e,t,n,o,s,a){const i=Ae,r=Ze,d=rt;return fe(),qe(d,null,{default:b(()=>[m(Lt,null,{default:b(()=>[m(i),m(ut,null,{default:b(()=>[m(r)]),_:1}),m(At,{app:""},{default:b(()=>[pe("p",jt,[D(" © 2024 "),Rt,D(ve(s.version),1)])]),_:1})]),_:1})]),_:1})}const Dt=de(Et,[["render",Bt]]);export{Dt as default};
